<html>
    <head>
        <title>Admin Panel</title>
        <link rel="stylesheet" type="text/css" href="{{style}}">
        <script src="{{url_for('static', filename = 'js/printer_sort.js')}}"></script>
        <script src="{{url_for('static', filename = 'js/admin.js')}}"></script>
    </head>

    <body onload="applyFilters()">

        <div class="header">
            <h1>Pitt Print Tracker Admin</h1>

            
            <select id="printer_type_selector" onchange="applyFilters()"> 
                <option value="any"> Any </option> 
                <option value="black and white"> Black and White </option> 
                <option value="color"> Color </option> 
            </select>

            <select id="printer_status_selector" onchange="applyFilters()"> 
                <option value="any"> Any </option> 
                <option value="online"> Online </option> 
                <option value="offline"> Offline </option> 
            </select>


            <button class="logout-btn" onclick="window.location.href='{{reference_to_logout}}'">
                Logout
            </button>
        </div> 

        <div class="section">
            <h2 id="section-title">All Pitt Printers</h2>

            <ul id="printers_ul"> 
                {% for printer in printers %}
                <li class="printers_li printer-card
                {% if printer.printer_type == 'Black & White' %}bnw{% elif printer.printer_type == 'Color' %}color{% endif %}
                {% if printer.printer_status == 'Online' %}online{% else %}offline{% endif %}">
                    <h3 class="printer-location">Printer Location: {{printer.printer_location}}</h3> 
                    <h3 class='printer-id'>Printer ID: {{printer.id}}</h3> 
                    <h3>{{printer.printer_type}} Printer</h3> 
                    
                    {% if printer.printer_status == "Online" %}
                    <h3 class="status-badge status-online">Status: {{printer.printer_status}}</h3>   
                    {% else %}
                    <h3 class="status-badge status-offline">Status: {{printer.printer_status}}</h3>   
                    <h3 class="printer-issue">Printer Issue: {{printer.printer_issue}}</h3>
                    {% endif %}
                    

                    <div class="card-buttons">
                        {% if printer.printer_status == "Offline" %}
                        <button class="btn btn-fixed card" onclick="fixPrinter({{printer.id}})">Printer Fixed?</button>
                        {% else %}
                        <a class="card" href="{{url_for('report_printer', printer_id=printer.id)}}">
                            <button class="btn btn-offline">Printer Offline?</button> 
                        </a> 
                        {% endif %}
                        <a class="card" href="{{url_for('delete_printer', printer_id=printer.id)}}">
                            <button class="btn btn-delete">Delete Printer </button> 
                        </a> 
                    </div> 
                </li> 
                {% endfor %}
            </ul> 
        </div>

        <div class="section">
            <h2 class="section-title">Add New Printer</h2>

            <form action="{{new_printer_summary_reference}}" method="POST" class="add-printer-form"> 

                <div class="form-group">
                    <label class="form-label" for="newPrinterLocation">Printer Location: </label>
                    <input type="text" name="newPrinterLocation" class="form-input" placeholder="e.g., Hillman Library 4th Floor"></input>
                </div> 
                
                <div class="form-group">
                    <label class="form-label" for="newPrinterType">Printer Type: </label>
                    <input type="text" name="newPrinterType" class="form-input" placeholder="e.g., 'Color' or 'Black & White'"></input>
                </div> 

                <div class="form-group">
                    <label class="form-label" for="newPrinterStatus">Printer Status: </label>
                    <input type="text" name="newPrinterStatus" class="form-input" placeholder="e.g., 'Online' or 'Offline'"></input>
                </div> 

                <div class="form-group">
                    <label class="form-label" for="newPrinterIssue">Printer Issue: </label>
                    <input type="text" name="newPrinterIssue" class="form-input" placeholder="Optional - describe any issues"></input>
                </div> 

                <input class="btn-add" type="submit" value="Add Printer">
            </form> 
        </div> 

    </body>
</html>
